# Просто ИИ бот для различных телеграм чатов
Вроде работает, но это не точно.

## Запуск
Если хотите захостить - перед этим установите и настройте ollama.

Далее скачайте и установите зависимости:
```shell
pip install -r requirements.txt
```

После этого, скопируйте примерочный .env, и настройте нужные вам параметры:
```shell
cp .env-example .env
$EDITOR .env
```
Небольшое описание всех параметров:

BOT_TOKEN - токен вашего телеграм бота

BOT_NAME - имя бота. Используется чисто для уведомления об успешном старте

SESSION_NAME - название сессии

BOT_TRIGGER - текст, на который будет реагировать бот

TG_API_* - ваш айди и хеш от телеграм апи

WHITELIST - список чатов, в которых бот будет работать. Впишите айди чатов, разделяя их пробелом. Альтернативно, в использовании прописаны команды для добавления и удаления чатов из вайтлиста.

LOGLEVEL - уровень логгирования. Советую INFO

TG_OWNER_ID - айди вашего телеграм аккаунта. Задавать в виде строки. Используется для проверки аккаунта при важных командах.

BASE_OLLAMA_MODEL - название модели, что будет использовать бот

ADVANCED_OLLAMA_MODEL - название модели, что будет использовать бот при команде "!думай"

MEMORY_OLLAMA_MODEL - название модели, что будет использоваться для изменений долгосрочной памяти

BASE_CONTEXT_LENGTH - количество сообщений, что по умолчанию будет получать модель

MEMORY_CONTEXT_LENGTH - количество сообщений, что будет получать модуль памяти. Советую не более 5

BASE_SYSPROMPT - системный промпт для базовой модели, ничего необычного

ADVANCED_SYSPROMPT - системный промпт для продвинутой модели, ничего обычного

MEMORY_SYSPROMPT - системный промпт для модели модуля памяти. В примерочном .env записан рабочий вариант, но вы можете использовать другой

## Использование
Бот будет слушать все сообщения в чате, и отвечать на те, что начинаются с заданного вами триггера.
По желанию, в текст сообщения можно добавить команду !контекст=n, где n - количество сообщений, что получит модель. Также можно добавить в сообщение команду !думай, чтобы бот использовал продвинутую модель.
Для добавления чата в вайтлист на ходу - пропишите "!enable" в чате.
Для исключения, "!disable".

## Прочее
Если вы заметили ошибки, либо есть вопросы\предложения - пишите в issue.
Пулл реквесты приветствуются.
